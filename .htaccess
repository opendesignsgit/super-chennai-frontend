# <IfModule mod_rewrite.c>
#   RewriteEngine On

#   # Redirect old quiz URL to new quiz URL
#   RewriteRule ^superchennai-quiz/?$ https://www.superchennai.com/contests/chennai-quiz [R=301,L]
#   RewriteEngine On
#   RewriteRule ^blog/chennai-2025-five-shifts-in-the-citys-food-landscape$ /blog/chennai-2025-five-shifts-in-the-citys-food-landscape.html [L]


#   # Prevent direct access to dotfiles
#   RewriteRule "^\.well-known/" - [L]
#   RewriteCond %{REQUEST_FILENAME} -f [OR]
#   RewriteCond %{REQUEST_FILENAME} -d
#   RewriteRule ^ - [L]

#   # SPA fallback – exclude the redirect URL
#   RewriteCond %{REQUEST_URI} !^/superchennai-quiz/?$
#   RewriteRule ^ index.html [L]


#   # og-tags
#   RewriteCond %{REQUEST_FILENAME} -f [OR]
#   RewriteCond %{REQUEST_FILENAME} -d
#   RewriteRule ^ - [L]

# </IfModule>

# <IfModule mod_rewrite.c>
#   RewriteEngine On

#   # Redirect old quiz URL to new quiz URL
#   RewriteRule ^superchennai-quiz/?$ https://www.superchennai.com/contests/chennai-quiz [R=301,L]

#   # Blog redirects
#   RewriteRule ^blog/chennai-2025-five-shifts-in-the-citys-food-landscape$ /blog/chennai-2025-five-shifts-in-the-citys-food-landscape.html [L]

#   # Prevent direct access to dotfiles
#   RewriteRule "^\.well-known/" - [L]

#   # ✅ Serve real files/folders first (VERY IMPORTANT!)
#   RewriteCond %{REQUEST_FILENAME} -f [OR]
#   RewriteCond %{REQUEST_FILENAME} -d
#   RewriteRule ^ - [L]

#   # SPA fallback – exclude the redirect URL
#   RewriteCond %{REQUEST_URI} !^/superchennai-quiz/?$
#   RewriteRule ^ index.html [L]
# </IfModule>

<IfModule mod_rewrite.c>
  RewriteEngine On
  RewriteBase /

  # 1. Redirect old quiz URL (Unga pazhaya code)
  RewriteRule ^superchennai-quiz/?$ https://www.superchennai.com/contests/chennai-quiz [R=301,L]

  # 2. Blog redirects (Unga pazhaya code)
  RewriteRule ^blog/chennai-2025-five-shifts-in-the-citys-food-landscape$ /blog/chennai-2025-five-shifts-in-the-citys-food-landscape.html [L]

  # 3. Prevent direct access to dotfiles
  RewriteRule "^\.well-known/" - [L]

  # --- NEW: PRERENDERED PAGES LOGIC ---
  # 4. Inga dhaan logic: URL-ah paathu folder kulla index.html irundha adhai serve pannu
  # Example: /contest/.../ kulla index.html irundha adhai display pannu
  RewriteCond %{DOCUMENT_ROOT}/$1/index.html -f
  RewriteRule ^(.*)/?$ $1/index.html [L]

  # 5. Serve real files (images, js, css)
  RewriteCond %{REQUEST_FILENAME} -f
  RewriteRule ^ - [L]

  # 6. SPA fallback (Everything else goes to main index.html)
  RewriteCond %{REQUEST_URI} !^/superchennai-quiz/?$
  RewriteRule ^ index.html [L]
</IfModule>